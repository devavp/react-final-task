{"ast":null,"code":"import { put, takeEvery } from 'redux-saga/effects';\nimport { ADD_RECIPE, SEARCH_RECIPE, SET_LOADING } from './Constants';\nimport { nanoid } from 'nanoid';\nimport { recipeError, recipeSuccess } from './Action';\nconst key = \"&app_id=a5de3521&app_key=28f8a20bd893e2740e68d4bbb349b977&from=0&to=50\";\n//const rec=\"pizza\"\nconst recipeid = () => nanoid();\nconsole.log(\"recipe\", recipeid);\nfunction* getRecipe() {\n  try {\n    yield put({\n      type: SET_LOADING,\n      loading: true\n    });\n    let data = yield fetch(`https://api.edamam.com/search?q=chicken${key}`);\n    // let data = yield fetch(\"http://localhost:4000/\")\n    data = yield data.json();\n    data = data.hits.map(recipe => ({\n      id: recipeid(),\n      ...recipe.recipe\n    }));\n    console.warn(\"saga\", data);\n    yield put(recipeSuccess(data));\n  } catch (error) {\n    yield put(recipeError(error.message));\n  }\n}\nfunction* searchRecipe(data) {\n  try {\n    yield put({\n      type: SET_LOADING,\n      loading: true\n    });\n    let result = yield fetch(`https://api.edamam.com/search?q=${data.query}${key}`);\n    console.log(\"querry\", data.query);\n    console.log(\"querry\", data);\n    result = yield result.json();\n    const recipeId = result.hits.map(recipe => ({\n      id: recipeid(),\n      ...recipe.recipe\n    }));\n    console.warn(\"sagarecipe\", result);\n    yield put(recipeSuccess(recipeId));\n  } catch (error) {\n    yield put(recipeError(error.message));\n  }\n}\nfunction* recipeSaga() {\n  yield takeEvery(ADD_RECIPE, getRecipe);\n  yield takeEvery(SEARCH_RECIPE, searchRecipe);\n}\nexport default recipeSaga;","map":{"version":3,"names":["put","takeEvery","ADD_RECIPE","SEARCH_RECIPE","SET_LOADING","nanoid","recipeError","recipeSuccess","key","recipeid","console","log","getRecipe","type","loading","data","fetch","json","hits","map","recipe","id","warn","error","message","searchRecipe","result","query","recipeId","recipeSaga"],"sources":["/home/rifluxyss/Documents/deva/REDUX-TASK-SAGA/recipe-finished/src/Redux/recipesaga.js"],"sourcesContent":["import { put, takeEvery } from 'redux-saga/effects'\nimport { ADD_RECIPE, SEARCH_RECIPE, SET_LOADING } from './Constants'\nimport { nanoid } from 'nanoid'\nimport { recipeError, recipeSuccess } from './Action';\n\nconst key = \"&app_id=a5de3521&app_key=28f8a20bd893e2740e68d4bbb349b977&from=0&to=50\"\n//const rec=\"pizza\"\nconst recipeid = () => nanoid();\nconsole.log(\"recipe\", recipeid)\nfunction* getRecipe() {\n    try {\n        yield put({ type: SET_LOADING, loading: true })\n        let data = yield fetch(`https://api.edamam.com/search?q=chicken${key}`)\n        // let data = yield fetch(\"http://localhost:4000/\")\n        data = yield data.json()\n        data = data.hits.map(recipe => ({\n            id: recipeid(),\n            ...recipe.recipe\n        }));\n        console.warn(\"saga\", data)\n        yield put(recipeSuccess(data))\n\n    }\n    catch (error) {\n        yield put(recipeError(error.message))\n    }\n}\n\nfunction* searchRecipe(data) {\n    try {\n        yield put({ type: SET_LOADING, loading: true })\n        let result = yield fetch(`https://api.edamam.com/search?q=${data.query}${key}`)\n        console.log(\"querry\", data.query)\n        console.log(\"querry\", data)\n        result = yield result.json()\n        const recipeId = result.hits.map(recipe => ({\n            id: recipeid(),\n            ...recipe.recipe\n        }));\n        console.warn(\"sagarecipe\", result)\n        yield put(recipeSuccess(recipeId))\n    }\n    catch (error) {\n        yield put(recipeError(error.message))\n    }\n}\n\nfunction* recipeSaga() {\n    yield takeEvery(ADD_RECIPE, getRecipe)\n    yield takeEvery(SEARCH_RECIPE, searchRecipe)\n}\n\nexport default recipeSaga"],"mappings":"AAAA,SAASA,GAAG,EAAEC,SAAS,QAAQ,oBAAoB;AACnD,SAASC,UAAU,EAAEC,aAAa,EAAEC,WAAW,QAAQ,aAAa;AACpE,SAASC,MAAM,QAAQ,QAAQ;AAC/B,SAASC,WAAW,EAAEC,aAAa,QAAQ,UAAU;AAErD,MAAMC,GAAG,GAAG,wEAAwE;AACpF;AACA,MAAMC,QAAQ,GAAGA,CAAA,KAAMJ,MAAM,CAAC,CAAC;AAC/BK,OAAO,CAACC,GAAG,CAAC,QAAQ,EAAEF,QAAQ,CAAC;AAC/B,UAAUG,SAASA,CAAA,EAAG;EAClB,IAAI;IACA,MAAMZ,GAAG,CAAC;MAAEa,IAAI,EAAET,WAAW;MAAEU,OAAO,EAAE;IAAK,CAAC,CAAC;IAC/C,IAAIC,IAAI,GAAG,MAAMC,KAAK,CAAE,0CAAyCR,GAAI,EAAC,CAAC;IACvE;IACAO,IAAI,GAAG,MAAMA,IAAI,CAACE,IAAI,CAAC,CAAC;IACxBF,IAAI,GAAGA,IAAI,CAACG,IAAI,CAACC,GAAG,CAACC,MAAM,KAAK;MAC5BC,EAAE,EAAEZ,QAAQ,CAAC,CAAC;MACd,GAAGW,MAAM,CAACA;IACd,CAAC,CAAC,CAAC;IACHV,OAAO,CAACY,IAAI,CAAC,MAAM,EAAEP,IAAI,CAAC;IAC1B,MAAMf,GAAG,CAACO,aAAa,CAACQ,IAAI,CAAC,CAAC;EAElC,CAAC,CACD,OAAOQ,KAAK,EAAE;IACV,MAAMvB,GAAG,CAACM,WAAW,CAACiB,KAAK,CAACC,OAAO,CAAC,CAAC;EACzC;AACJ;AAEA,UAAUC,YAAYA,CAACV,IAAI,EAAE;EACzB,IAAI;IACA,MAAMf,GAAG,CAAC;MAAEa,IAAI,EAAET,WAAW;MAAEU,OAAO,EAAE;IAAK,CAAC,CAAC;IAC/C,IAAIY,MAAM,GAAG,MAAMV,KAAK,CAAE,mCAAkCD,IAAI,CAACY,KAAM,GAAEnB,GAAI,EAAC,CAAC;IAC/EE,OAAO,CAACC,GAAG,CAAC,QAAQ,EAAEI,IAAI,CAACY,KAAK,CAAC;IACjCjB,OAAO,CAACC,GAAG,CAAC,QAAQ,EAAEI,IAAI,CAAC;IAC3BW,MAAM,GAAG,MAAMA,MAAM,CAACT,IAAI,CAAC,CAAC;IAC5B,MAAMW,QAAQ,GAAGF,MAAM,CAACR,IAAI,CAACC,GAAG,CAACC,MAAM,KAAK;MACxCC,EAAE,EAAEZ,QAAQ,CAAC,CAAC;MACd,GAAGW,MAAM,CAACA;IACd,CAAC,CAAC,CAAC;IACHV,OAAO,CAACY,IAAI,CAAC,YAAY,EAAEI,MAAM,CAAC;IAClC,MAAM1B,GAAG,CAACO,aAAa,CAACqB,QAAQ,CAAC,CAAC;EACtC,CAAC,CACD,OAAOL,KAAK,EAAE;IACV,MAAMvB,GAAG,CAACM,WAAW,CAACiB,KAAK,CAACC,OAAO,CAAC,CAAC;EACzC;AACJ;AAEA,UAAUK,UAAUA,CAAA,EAAG;EACnB,MAAM5B,SAAS,CAACC,UAAU,EAAEU,SAAS,CAAC;EACtC,MAAMX,SAAS,CAACE,aAAa,EAAEsB,YAAY,CAAC;AAChD;AAEA,eAAeI,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}